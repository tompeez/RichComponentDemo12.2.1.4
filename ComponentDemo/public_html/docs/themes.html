<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2018-07-05 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Oracle ADF Faces - 
    Skinning ADF Faces Component Themes</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20180705" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://www.oracle.com" id="bannerLeft">
                                                <img src="images/oracle_logo_red_large.png" alt="Oracle ADF Faces Rich Client" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2018-07-05</span>
                  &nbsp;| <span id="projectVersion">Version: 12-aspen-SNAPSHOT</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>ADF Faces</h5>
                  <ul>
                  <li class="none">
                          <a href="release.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="release-notes.html" title="Release Notes">Release Notes</a>
            </li>
                  <li class="none">
                          <a href="http://myfaces.apache.org/trinidad/trinidad-api/apidocs/index.html" class="externalLink" title="Trinidad Javadoc">Trinidad Javadoc</a>
            </li>
                  <li class="none">
                          <a href="http://adfui.us.oracle.com/releases/adf.faces/aspen/multiproject/adf-richclient-api/apidocs/index.html" class="externalLink" title="Rich Javadoc">Rich Javadoc</a>
            </li>
                  <li class="none">
                          <a href="http://adfui.us.oracle.com/releases/adf.faces/aspen/multiproject/adf-richclient-api/js_docs_out/index.html" class="externalLink" title="Rich Javadoc for JavaScript">Rich Javadoc for JavaScript</a>
            </li>
                  <li class="none">
                          <a href="http://adfui.us.oracle.com/releases/adf.faces/aspen/multiproject/adf-richclient-api/enhanced-tagdoc.html" class="externalLink" title="Tag Documentation">Tag Documentation</a>
            </li>
                  <li class="none">
                          <a href="http://wiki.apache.org/myfaces/from_ADF_to_Trinidad" class="externalLink" title="Apache Trinidad">Apache Trinidad</a>
            </li>
          </ul>
                       <h5>DVT</h5>
                  <ul>
                  <li class="none">
                          <a href="release-notes-dvt.html" title="Release Notes">Release Notes</a>
            </li>
          </ul>
                       <h5>Modules</h5>
                  <ul>
                  <li class="none">
                          <a href="adf-richclient-build/index.html" title="ADF RichClient Build">ADF RichClient Build</a>
            </li>
                  <li class="none">
                          <a href="adf-richclient-api/index.html" title="ADF RichClient API">ADF RichClient API</a>
            </li>
                  <li class="none">
                          <a href="adf-richclient-impl/index.html" title="ADF RichClient Impl">ADF RichClient Impl</a>
            </li>
                  <li class="none">
                          <a href="adf-richclient-dt/index.html" title="ADF RichClient DT">ADF RichClient DT</a>
            </li>
                  <li class="none">
                          <a href="adf-richclient-demo/index.html" title="ADF RichClient Demo">ADF RichClient Demo</a>
            </li>
                  <li class="none">
                          <a href="adf-richclient-automation/index.html" title="ADF RichClient Automation">ADF RichClient Automation</a>
            </li>
                  <li class="none">
                          <a href="adf-richclient-test/index.html" title="ADF RichClient Test">ADF RichClient Test</a>
            </li>
                  <li class="none">
                          <a href="adf-richclient-page-templates/index.html" title="ADF RichClient Page Templates">ADF RichClient Page Templates</a>
            </li>
                  <li class="none">
                          <a href="adf-richclient-skins/index.html" title="ADF RichClient Skins">ADF RichClient Skins</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
  
    <div class="section">
<h2>Skinning ADF Faces Component Themes<a name="Skinning_ADF_Faces_Component_Themes"></a></h2></div>
    
<p>
      </p>
<ul>
        
<li><a href="#Overview">Overview</a></li>
        
<li>
          <a href="#Defining_Themes">Defining Themes</a>
          
<ul>
            
<li><a href="#Theme_Names">Theme Names</a></li>
          </ul>
        </li>
        
<li>
          <a href="#Skinning_Themes">Skinning Themes</a>
          
<ul>
            
<li><a href="#Enabling_Themes">Enabling Themes</a></li>
          </ul>
        </li>
        
<li><a href="#Changing_Themes_in_a_Skin">Changing Themes in a Skin</a></li>
        
<li><a href="#Component_Development">Component Development</a></li>
      </ul>
    
    
<div class="section">
<h2>Overview<a name="Overview"></a></h2>
      
<p>Skinning pages can often be a complex task, and it is often desirable to have different
        areas of the page look different from each other. For example, you may have the main navigation
        area in a dark background with a light foreground, but the main content area with a light background and
        dark foreground. A layout such as this may be achieved using themes.</p>
      
<p>Themes allow for areas of a page to be distinguished and styled differently. They are
        implemented to be efficient and easy to use. One of the main features of themes, is that
        they do not rely on CSS sub-selectors. Take this code for example:</p>
      
<div class="source">
<pre>
af|panelGroupLayout.dark af|panelGroupLayout.light {
  background-color: white;
  color: black;
}</pre></div>
      
<p>This works in a simple case, but when &quot;dark&quot; and &quot;light&quot; become nested within each other,
        the CSS becomes dependent on the page hierarchy. In order to keep the skin agnostic of the
        page structure, themes allow selecting components within a given theme without using
        containment selectors.</p>
    </div>
    
<div class="section">
<h2>Defining Themes<a name="Defining_Themes"></a></h2>
      
<p>Themes are defined by a specific set of components in the ADF framework. Typically, the
        &lt;af:decorativeBox/&gt; component is used to change the theme. This component provides
        a smooth transition between themes. Example:</p>
      
<div class="source">
<pre>&lt;af:decorativeBox theme=&quot;dark&quot;&gt;
  &lt;f:facet name=&quot;center&quot;&gt;
    ...
      &lt;af:decorativeBox theme=&quot;default&quot;&gt;
        ...
      &lt;/af:decorativoBox&gt;
    ...
  &lt;/f:facet&gt;
&lt;/af:decorativeBox&gt;</pre></div>
      
<p>In this example, a base decorative box sets up a dark theme. All components within that box
        are considered to have a dark theme. Somewhere in that decorative box, a nested one appears
        with a default theme. The default theme is analogous to having no theme. So in this example,
        any components inside the inner decorative box have no theme.</p>
      
<div class="section">
<h3>Theme Names<a name="Theme_Names"></a></h3>
        
<p>Theme names are not restricted by the framework and may contain any valid CSS characters.
          The only exception is a blank theme name, &quot;&quot;, &quot;default&quot; or &quot;inherit&quot;. Both of these may be
          used to remove the current theme. ADF themes typically provide built in support for dark,
          medium and light themes.</p>
        
<p>Even though theme names may contain spaces and non-alpha-numeric characters, it is
          recommended that short single words are used. The names must be able to be used within an
          HTML attribute. The shorter the theme name, the better as it will result in a smaller page
          size.</p>
      </div>
    </div>
    
<div class="section">
<h2>Skinning Themes<a name="Skinning_Themes"></a></h2>
      
<p>A theme is applied to all rendered HTML elements of components that are given a CSS class
        if the component supports themes. A theme is specified using the CSS attribute selector
        syntax.</p>
      
<p>Note that even though the syntax is the same as an attribute selector, the theme may not be
        actually rendered as an attribute. Therefore, it is not supported to have code look for
        themes on the client side by analyzing the DOM structure.</p>
      
<div class="section">
<h3>Enabling Themes<a name="Enabling_Themes"></a></h3>
        
<p>Components, by default, do not support themes. This is to improve performance by reducing
          the HTML content written by the server. In a skin, the skin author, may turn on themes for
          any components that should appear differently in different themes. For example, if
          component looks the same in each theme, it should not have themes enabled.</p>
        
<p>Themes are enabled for components using skin properties on a components default style
          class. For example:</p>
        
<div class="source">
<pre>af|outputText {
  -tr-enable-themes: true;
}</pre></div>
        
<p>In this example, the output text component will support skinning by theme. Note that the
          skins provided by ADF already have themes enabled for several components.</p>
      </div>
      
<p>Once a component has themes enabled, any skinning selector for that component may be
        used with a theme selector. For example:</p>
      
<div class="source">
<pre>
af|goLink[theme=&quot;dark&quot;],
af|goLink:focus[theme=&quot;dark&quot;],
af|commandLink[theme=&quot;dark&quot;],
af|commandLink:focus[theme=&quot;dark&quot;],
af|commandImageLink::text[theme=&quot;dark&quot;],
af|commandImageLink::text:focus[theme=&quot;dark&quot;],
af|goImageLink::text[theme=&quot;dark&quot;],
af|goImageLink::text:focus[theme=&quot;dark&quot;],
af|link::text[theme=&quot;dark&quot;],
af|link::text:focus[theme=&quot;dark&quot;] {
  -tr-rule-ref: selector(&quot;.AFLightBrightForeground:alias&quot;);
}</pre></div>
      
<p>In this code, different components as well as child elements are given a different
        foreground color in a dark theme. The theme selector must always be the last part of
        the selector, except for &quot;:ltr&quot; or &quot;:rtl&quot;. Here is an example where a theme is
        selected in a right-to-left orientation:</p>
      
<div class="source">
<pre>
af|menuBar::overflow-indicator:depressed:hover[theme=&quot;dark&quot;]:rtl {
  background-image: url(&quot;/afr/fusion/overflow_left_dwn.png&quot;);
}</pre></div>
      
<p>Due to the fact that themes try to avoid having the use of containment selectors, one
        should not attempt to select an element under a theme. For example, do not do this:</p>
      
<div class="source">
<pre>
af|panelHeader::content1[theme=&quot;dark&quot;] af|panelHeader::info {
  ...
}</pre></div>
      
<p>Instead, select the theme on the last element:</p>
      
<div class="source">
<pre>
af|panelHeader::content1 af|panelHeader::info[theme=&quot;dark&quot;] {
  ...
}</pre></div>
      
<p>This is also valid:</p>
      
<div class="source">
<pre>
af|panelHeader::content1[theme=&quot;dark&quot;] af|panelHeader::info[theme=&quot;dark&quot;] {
  ...
}</pre></div>
    </div>
    
<div class="section">
<h2>Changing Themes in a Skin<a name="Changing_Themes_in_a_Skin"></a></h2>
      
<p>There are times that a theme must be changed in a skin, rather than in the content of
        a page. For example, say that a panel box, when placed in a dark theme, uses a white
        background and a dark foreground and the children should be considered to be in a default
        theme. The panel box component does not support changing the
        theme (it has no theme attribute), but this is still possible using skin properties.
        This is achieved using this code:</p>
      
<div class="source">
<pre>
af|panelBox[theme=&quot;dark&quot;] {
  -tr-children-theme: default;
  background-color: white;
  color: black;
}</pre></div>
      
<p>What this means in that any child <b>components</b> of the panel box in a dark theme
        will not have a theme (default theme). It is important to understand that this changes
        the theme of the children components, but not of the panel box itself. For example,
        the <tt>af|panelBox::header-text</tt> element of this panel box will still have a
        dark theme (nested panel boxes will be in a default theme).</p>
      
<p>Note that it is important that if a component changes the theme, it should change both
        the background color and the foreground colors at the same time. This ensures that a
        situation does not arise that a dark foreground is not used in a dark background for
        example.</p>
      
<p>When a theme is changed via the skin, it must be done on the default style class
        (root state selectors are not permitted). It should never be tried on an element selector.
        For example, these are valid:</p>
      
<div class="source">
<pre>
af|panelGroupLayout,
af|panelBox[theme=&quot;dark&quot;] {
  -tr-children-theme: newtheme;
}</pre></div>
      
<p>In this example, the children of a panel group layout with a default theme or the
        children of a panel box with a dark theme will have a theme of &quot;newtheme&quot;. Note that
        the panel group layout here specifies one that is in a default theme, it does not
        select all panel group layouts. If you want to change the panel group layout's children
        theme for panel group layouts in every theme, you must list every theme. Here are
        examples of selectors that are <b>not</b> valid:</p>
      
<div class="source">
<pre>
af|panelBox::header-text,
af|navigationPane-buttons[theme=&quot;medium&quot;],
af|panelGroupLayout af|outputText[theme=&quot;dark&quot;] {
  -tr-children-theme: newtheme;
}</pre></div>
      
<p>This panel box selector is not valid as it is an element selector, only a component's
        default style class may be used. The navigation pane is not supported as it is using
        the root state style class, as just mentioned, only a default state style class may be
        used. The last line is also not supported, as it is attempting to select components based
        on hierarchy. Since theme properties are read on the server, and not processed by the
        browser, only a component's default style class may be used, by itself.</p>
    </div>
    
<div class="section">
<h2>Component Development<a name="Component_Development"></a></h2>
      
<p>If you are building your own custom components and wish to support themes, you must be
        aware of certain APIs. Themes are supported as part of RichRenderer. Themes are implemented
        as a stack. Changing a theme consists of pushing a new theme onto the stack. To resume the
        previous theme, simply pop the current theme. In order to maintain the theme stack, it is
        crucial that there is exactly one call to pop the theme for every push theme call. The
        methods that may be used are static on RichRenderer and are named pushTheme and popTheme.
      </p>
      
<p>If a renderer changes themes, the themes should be change during encoding as well as during
        visiting for purposes of encoding. For example, the decorative box changes the theme before
        encodeAll is called as well as during visit tree invocations for rendering by overriding the
        encoding context setup and tear down methods:</p>
      
<div class="source">
<pre>  @Override
  public void setupEncodingContext(
    FacesContext     context,
    RenderingContext rc,
    UIComponent      component)
  {
    String theme = getTheme(getFacesBean(component));

    if (theme == null)
      theme = &quot;inherit&quot;;

    pushTheme(rc, theme);
    super.setupEncodingContext(context, rc, component);
  }

  // Add theme support
  @Override
  public void tearDownEncodingContext(
    FacesContext     context,
    RenderingContext rc,
    UIComponent      component)
  {
    super.tearDownEncodingContext(context, rc, component);
    popTheme(rc);
  }</pre></div>
      
<p>In this code, you will see that the decorative box supports a special value of &quot;inherit&quot;.
        This value allows a component to push a theme using the current theme. The purpose of this
        is to avoid having to check in the tear down method if a theme was pushed. Pushing a null
        theme is analogous to removing the current theme. So calling pushTheme with null, &quot;&quot; or
        &quot;default&quot; all result in removing the current theme.</p>
      
<p>If your renderer needs to know the current theme, the static getTheme method may be used.
        Note that themes are only available to be retrieved and changed during rendering (when
        a rendering context is available).</p>
      
<p>In order for a component to supporting theming, it must return a non-null string from
        getDefaultStyleClass.</p>
      
<p>The framework depends on renderers correctly calling setupChildrenEncodingContext and
        tearDownChildrenEncodingContext on the component before and after encoding any children
        components. If these methods are not called, the -tr-children-theme skin property
        will not function.</p>
      
<p>Determining if themes are enabled for your component. If your renderer needs to know
        if themes have been enabled for it, the renderer may call the protected isThemeEnabled
        method.</p>
      
<p>Style classes must be rendered using either the renderStyleClasses or renderStyleClass
        methods. These methods check the current theme and render the theme to the client if set.
        Calling writeAttribute on the response writer is not supported and will bypass the ADF
        theme support.</p>
    </div>
  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2018
                      Oracle Corporation.
            All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
