<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en-US">
<head>
<title>dvt_mapPieGraphTheme</title>
<meta name="topic_id" content="ale1">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<link rel="stylesheet" type="text/css" href="../css/blafdoc.css">
<meta name="generator" content="Oracle ST-Doc Jadey 2.3">
</head>
<body>
<div>
<table class="oac_no_warn" summary="Layout table... probably." width="100%" border="0">
<tr>
<td align="right" valign="top" rowspan="3"><em><b>Oracle Fusion Middleware Data Visualization Tools Tag Reference for Oracle ADF Faces<br>
12c (12.2.1)</b><br>
E52773-01</em></td>
</tr>
</table>
<h1>&lt;dvt:mapPieGraphTheme&gt;</h1>
<!-- this line forces these terms to be indexed -->
<p style="display:none">mapPieGraphTheme map pie graph theme</p>
<br>
<p>The Pie Graph Theme tag is used within the <a href="dvt_map.html">&lt;dvt:map&gt;</a> tag to provide the ability to show statistics related to given locations on a map. This theme displays a pie graph at points to represent data values associated with those locations. For example, this tag might be used to display a pie graph at store locations to show sales values for a number of products at each store.</p>
<p>When a Pie Graph Theme is created, default colors are assigned to the slices in the graph. These colors can be customized with built-in <a href="#piestyles">styles</a> or by using the <a href="dvt_mapPieSliceSet.html">mapPieSliceSet</a> and the <a href="dvt_mapPieSliceItem.html">mapPieSliceItem</a> tags.</p>
<p>Only one Graph Theme (Bar or Pie) can be visible in a map at a given time</p>
<h4>Model</h4>
<p>The Pie Graph Theme uses an underlying model to abstract the data that gets displayed in the theme. The specific model class is <code>oracle.adf.view.faces.bi.model.GeoMapDataModel</code> . The GeoMapDataModel contains information about the location and data associated with each pie graph. The model can be set through the value attribute of the mapPieGraphTheme tag.</p>
<h4>Pie Graph Styles <a name="piestyles" id="piestyles"></a></h4>
<p><a name="piestyles" id="piestyles">Styles can be applied to the Pie Graph Theme to customize the color scheme of the pie slices. This is done with the styleName attribute. This attribute can be set to either the name of one of the predefined styles or the path of a custom XML file that defines the desired style. To set the color of each pie slice individually, use the mapPieSliceSet and mapPieSliceItem tags.</a></p>
<p><a name="piestyles" id="piestyles">In the example below, the Pie Graph Theme uses the predefined "Autumn" style</a></p>
<pre>
<a name="piestyles" id="piestyles">            &lt;dvt:map ...map attributes...&gt;
              &lt;dvt:mapPieGraphTheme value="#{backingBean.geoMapModel}"
                 id="mapPieGraphTheme1" themename="MAP_STATES_NAME"
                 locationColumn="POLYGON_NAME" stylename="Autumn"/&gt;
            &lt;/dvt:map&gt;
            
</a>
</pre>
<h4><a name="piestyles" id="piestyles">Connection to Base Map Themes</a></h4>
<p><a name="piestyles" id="piestyles">The base map theme on which this Pie Graph Theme layer is based is specified by the themeName attribute. This base map theme must come from the same data source as the base map.</a></p>
<p><a name="piestyles" id="piestyles">If you are using Oracle's hosted eLocation services to configure the Map component, the themeName attribute for this tag should be set to one of the following five choices:</a></p>
<ul>
<li><a name="piestyles" id="piestyles">MAP_CONTINENTS_NAME</a></li>
<li><a name="piestyles" id="piestyles">MAP_COUNTIES_NAME</a></li>
<li><a name="piestyles" id="piestyles">MAP_COUNTRIES_NAME</a></li>
<li><a name="piestyles" id="piestyles">MAP_STATES_NAME</a></li>
<li><a name="piestyles" id="piestyles">MAP_STATES_ABBRV</a></li>
</ul>
<p><a name="piestyles" id="piestyles">Depending on the base map theme you choose your data model should have the corresponding polygon names. If you choose MAP_STATES_ABBRV then your data model must have state abbreviations for matching the rows with the appropriate polygons.</a></p>
<a name="piestyles" id="piestyles">&lt;p/&gt;</a>
<h4><a name="piestyles" id="piestyles">Legend Customization</a></h4>
<p><a name="piestyles" id="piestyles">By default, the ID of the mapPieGraphTheme is used as the label when that theme is displayed in the legend or in the Theme Selection dialog. However, each mapPieGraphTheme tag has the following attributes that serve as optional labels for the theme:</a></p>
<ul>
<li><a name="piestyles" id="piestyles">shortLabel: Specifies a label for the theme when displayed in the map legend</a></li>
<li><a name="piestyles" id="piestyles">menuLabel: Specifies a label for the theme in the Theme Selection dialog</a></li>
</ul>
<a name="piestyles" id="piestyles">The labels for each slice color in the legend are determined by the labels that were used to create the GeoMapDataModel for this theme.</a>
<h4><a name="piestyles" id="piestyles">Selection</a></h4>
<p><a name="piestyles" id="piestyles">The Pie Graph Theme supports the ability to select one or more pie graphs on the map using the mapToolbar's rectangle/circle/polygon/point selection tools. When the user defines a selected area on the map, any of the pie graphs that fall within the selected area will be highlighted and the selectionListener will be fired.</a></p>
<h4><a name="piestyles" id="piestyles">Relationship with other tags</a></h4>
<p><a name="piestyles" id="piestyles">The &lt;dvt:mapPieGraphTheme&gt; tag is a child of the</a> <a href="dvt_map.html">&lt;dvt:map&gt;</a> tag</p>
<p>The &lt;dvt:mapPieGraphTheme&gt; tag can have the following children:</p>
<ul>
<li>&lt;af:convertNumber&gt;</li>
<li><a href="dvt_mapPieSliceSet.html">&lt;dvt:mapPieSliceSet&gt;</a></li>
</ul>
<p>Deprecated children:</p>
<ul>
<li><a href="numberFormat.html">&lt;dvt:numberFormat&gt;</a></li>
</ul>
<h2>Events</h2>
<table class="oac_no_warn" class="oac_no_warn" summary="Layout table... probably." rules="all" border="1" width="100%" cellpadding="3" cellspacing="0">
<thead>
<tr>
<th width="34%" align="left" valign="bottom" id="evType">Type</th>
<th width="29%" align="left" valign="bottom" id="evPhase">Phases</th>
<th width="37%" align="left" valign="bottom" id="evDesc">Description</th>
</tr>
</thead>
<tr>
<td align="left" headers="evType">oracle.adf.view.faces.bi.event.MapSelectionEvent</td>
<td align="left" headers="evPhase" nowrap="nowrap">Apply Request Values</td>
<td align="left" headers="evDesc">MapSelectionEvent is fired when the user finishes selecting a region on the map, or when the user unselects the region. The rectangle tool, circle tool, polygon tool, or point tool can be used to select a region, and right clicking on the map will unselect it</td>
</tr>
<tr>
<td align="left" headers="evType">oracle.adf.view.faces.bi.event.MapClickActionEvent</td>
<td align="left" headers="evPhase" nowrap="nowrap">Apply Request Values</td>
<td align="left" headers="evDesc">MapClickActionEvent is fired when the user left clicks or right clicks on an element of the theme.</td>
</tr>
</table>
<h2>Attributes</h2>
<table class="oac_no_warn" summary="Layout table... probably." rules="all" border="1" width="100%" cellpadding="3" cellspacing="0">
<thead>
<tr>
<th align="left" valign="bottom" id="tblId_1_1">Name</th>
<th align="left" valign="bottom" id="tblId_1_2">Type</th>
<th align="left" valign="bottom" id="tblId_1_3">Supports EL?</th>
<th align="left" valign="bottom" id="tblId_1_4">Description</th>
</tr>
</thead>
<tr>
<td align="left" headers="tblId_1_1">id</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">no</td>
<td align="left" headers="tblId_1_4">The id for this component</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">themeName</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the predefined theme on which this theme layer is based. The theme must come from the same data source as the base map. The theme is defined in mapbuilder. For detail, please refer to the documentation of mapviewer.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">shortLabel</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the label of this theme on the legend. If the attribute is not specified, the id of the theme will be used as the label on the legend.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">menuLabel</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the label of this theme on the ThemeSelectionDialog and SelectMenuItem. If the attribute is not specified, the id of the theme will be used.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">minZoom</td>
<td align="left" headers="tblId_1_2">int</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the minimum zoom scale where this theme will still be visible.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">maxZoom</td>
<td align="left" headers="tblId_1_2">int</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the maximum zoom scale where this theme will still be visible.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">styleName</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">
<p>Applies a style to the slices of the pie based on the specified XML file. Valid values are the name of a standard style or the path of a custom XML file that you want to set as a style for this map.</p>
<p>Predefined map styles are:</p>
<ul>
<li>April</li>
<li>Autumn</li>
<li>Black and White</li>
<li>Comet</li>
<li>Confetti</li>
<li>Earth</li>
<li>Executive</li>
<li>Financial</li>
<li>Glass</li>
<li>Nautical</li>
<li>Projection</li>
<li>Regatta</li>
<li>Southwest</li>
<li>Transparent</li>
</ul>
</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">selectionListener</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">no</td>
<td align="left" headers="tblId_1_4">a method reference to a selection listener Refers to a backing bean method that takes MapSelectionEvent as an argument. The MapSelectionEvent contains the information on the selected region. Sample code:
<pre>
public void processSelection(MapSelectionEvent mapSelectionEvent) {
    Iterator iterator = mapSelectionEvent.getIterator();
        
    while (iterator.hasNext())
    {
        DataContent dt = (DataContent)iterator.next();    
        String selectedLocation = dt.getLocationName();
        System.out.println (selectedLocation);
    }                        
}                
        
</pre></td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">clickAction</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">no</td>
<td align="left" headers="tblId_1_4">Refers to a backing bean method that performs navigation processing for the map and returns an outcome String. Or a static outcome String can be specified. The JSF NavigationHandler selects the page to display next by matching the outcome String against the navigation rules in the application configuration resource file. The application writes the Navigation rules.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">clickListener</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">no</td>
<td align="left" headers="tblId_1_4">a method reference to a click listener Refers to a backing bean method that takes MapClickActionEvent as an argument. The MapClickActionEvent contains the information on the clicked point. Sample code:
<pre>
public void processMouseClick(MapClickActionEvent mapClickActionEvent) {
    if (mapClickActionEvent.getDataContent() != null)
    {
        DataContent dt = mapClickActionEvent.getDataContent();
        System.out.println ("Location Name: " + dt.getLocationName());
    }
        
    System.out.println("MouseX " + mapClickActionEvent.getMouseX()); 
    System.out.println("MouseY " + mapClickActionEvent.getMouseY());         
}
        
</pre>
Refers to a backing bean method that takes ClickEvent as argument.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">leftClickBehavior</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the behavior when user left clicks on an element of a theme. Valid values for the theme are:
<ul>
<li>"Action" - An action event will be fired.</li>
<li>"Popup" - A popup will be shown. The content of the popup is defined in the popup facet of the map</li>
<li>"InfoWindow" (Default) - An InfoWindow will be shown. The user can further customize the content of the infoWindow through the infoWindowCallback</li>
<li>"None" - Nothing will be done.</li>
</ul>
</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">rightClickBehavior</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the behavior when user right clicks on an element of a theme. Valid value for the theme are:
<ul>
<li>"Popup" - A popup will be shown. The content of the popup is defined in the rtPopup facet of the map</li>
<li>"None" (Default) - Nothing will be done.</li>
</ul>
</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">locationColumn</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the name of a polygon in the column of the underlying table of the theme. This column is used to join with the location column in the mapModel of the value attribute.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">useWindow</td>
<td align="left" headers="tblId_1_2">boolean</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies whether processes launched by this command should be launched in a secondary dialog window. 'useWindow' works only in the case of dialogs i.e, if the "action" starts with a "dialog:". Set useWindow to 'false' for the dialog to be opened in the existing window. It is false by default.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">windowWidth</td>
<td align="left" headers="tblId_1_2">int</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the width of the window if useWindow is true. It is -1 by default.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">windowHeight</td>
<td align="left" headers="tblId_1_2">int</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the height of the window if useWindow is true. It is -1 by default.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">infoWindowCallback</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">no</td>
<td align="left" headers="tblId_1_4">Specifies a callback for overriding the default text in the info Window.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">pieRadius</td>
<td align="left" headers="tblId_1_2">int</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the radius of the pie charts. The default value is 5.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">rendered</td>
<td align="left" headers="tblId_1_2">boolean</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies whether the theme is rendered or not</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">value</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the data model for theme - have to be an instance of oracle.adf.view.faces.bi.model.GeoMapDataModel</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">scaling</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Scaling factor for numbers that are displayed Valid values are:
<ul>
<li>none - (Default) The number will not be scaled</li>
<li>thousand - Scales the number to thousands.</li>
<li>million - Scales the number to millions.</li>
<li>billion - Scale the number to billions.</li>
<li>trillion - Scale the number to trillions.</li>
<li>quadrillion - Scale the number to quadrillions.</li>
</ul>
</td>
</tr>
</table>
</div>
<!-- Start Footer -->
<!-- class="ind" -->
<div class="footer">
<table class="oac_no_warn" summary="Layout table... probably." class="simple oac_no_warn" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" width="86%"><a href="topicid:help_legalnotices_html"><span class="copyrightlogo">Copyright&nbsp;&copy;&nbsp;2015,&nbsp;Oracle.&nbsp;All&nbsp;rights&nbsp;reserved.</span></a></td>
</tr>
<tr>
<td align="left" width="86%">Generated: Jul 15 2015</td>
</tr>
</table>
</div>
<!-- class="footer" -->
</body>
</html>
