<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en-US">
<head>
<title>dvt_mapColorTheme</title>
<meta name="topic_id" content="ale1">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<link rel="stylesheet" type="text/css" href="../css/blafdoc.css">
<meta name="generator" content="Oracle ST-Doc Jadey 2.3">
</head>
<body>
<div>
<table class="oac_no_warn" summary="Layout table... probably." width="100%" border="0">
<tr>
<td align="right" valign="top" rowspan="3"><em><b>Oracle Fusion Middleware Data Visualization Tools Tag Reference for Oracle ADF Faces<br>
12c (12.2.1)</b><br>
E52773-01</em></td>
</tr>
</table>
<h1>&lt;dvt:mapColorTheme&gt;</h1>
<!-- this line forces these terms to be indexed -->
<p style="display:none">mapColorTheme map color theme</p>
<br>
<p>The mapColorTheme tag is used within the <a href="dvt_map.html">&lt;dvt:map&gt;</a> tag to provide the ability to associate different regions of a map with different colors. Each color represents a range of data values known as a "bucket", and the color of a region depends on which bucket its data falls into. For example, this tag might be used to identify a range of colors to represent the popularity of a product in different states, where a state gets colored red if the product is not popular and green if the product is very popular.</p>
<p>To use a Color Theme, the developer needs to specify the colors that will be used. This can be done either by defining the <a href="#minmaxcolors">min and max color</a> values with the total number of buckets, or by defining a list of <a href="#discretecolors">discrete colors</a> to use.</p>
<p>Only one color theme can be visible in a map at a given time.</p>
<h4>Model</h4>
<p>The Color Theme uses an underlying model to abstract the data that gets displayed in the theme. The specific model class is <code>oracle.adf.view.faces.bi.model.GeoMapDataModel</code> . The GeoMapDataModel contains information about the location and data associated with each colored region. The model can be set through the value attribute of the mapColorTheme tag.</p>
<h4>Min/Max Colors <a name="minmaxcolors" id="minmaxcolors"></a></h4>
<p><a name="minmaxcolors" id="minmaxcolors">A Color Theme can be defined by a gradient of colors over a particular range specified by the minColor and maxColor attributes. In this case the map will divide the data associated with the theme into a number of buckets determined by the bucketCount attribute. It will then calculate the colors, ranging from minColor to maxColor with graduated colors in between, to assign to each bucket.</a></p>
<p><a name="minmaxcolors" id="minmaxcolors">In the example below, the Color Theme has minColor = #000000, maxColor = #ffffff, and bucketCount = 5, so the colors of the five buckets are: #000000, #444444, #888888, #bbbbbb, and #ffffff.</a></p>
<pre>
<a name="minmaxcolors" id="minmaxcolors">            &lt;dvt:map ...map attributes...&gt;
              &lt;dvt:mapColorTheme id="mapColorTheme1" value="#{backingBean.geoMapModel}"
                themename="MAP_STATES_NAME" locationColumn="POLYGON_NAME" bucketCount="5"
                 minColor="#000000" maxColor="#ffffff" /&gt;
            &lt;/dvt:map&gt;
            
</a>
</pre>
<h4><a name="minmaxcolors" id="minmaxcolors">Discrete Colors</a> <a name="discretecolors" id="discretecolors"></a></h4>
<p><a name="minmaxcolors" id="minmaxcolors">A Color Theme can also be defined by a list of discrete colors set by the attribute. In this case, each bucket is represented by a color explicitely named in the colorList. The colorList can either be a color array or a semicolon-separated string.</a></p>
<p><a name="minmaxcolors" id="minmaxcolors">In the example below, the theme's colorList is "#ff0000;#00ff00;#0000ff", so the color of the first bucket is #ff0000, the second bucket is #00ff00, and the third bucket is #0000ff.</a></p>
<pre>
<a name="minmaxcolors" id="minmaxcolors">            &lt;dvt:map ...map attributes...&gt;
              &lt;dvt:mapColorTheme 
                themename="MAP_STATES_NAME" colorList = "#ff0000; #00ff00; #0000ff" /&gt;
            &lt;/dvt:map&gt;
            
</a>
</pre>
<h4><a name="minmaxcolors" id="minmaxcolors">Connection to Base Map Themes</a></h4>
<p><a name="minmaxcolors" id="minmaxcolors">The base map theme on which this Color Theme layer is based is specified by the themeName attribute. This base map theme determines the geometries of the colored and uncolored regions, and must come from the same data source as the base map.</a></p>
<p><a name="minmaxcolors" id="minmaxcolors">If you are using Oracle's hosted eLocation services to configure the Map component, the themeName attribute for this tag should be set to one of the following five choices:</a></p>
<ul>
<li><a name="minmaxcolors" id="minmaxcolors">MAP_CONTINENTS_NAME</a></li>
<li><a name="minmaxcolors" id="minmaxcolors">MAP_COUNTIES_NAME</a></li>
<li><a name="minmaxcolors" id="minmaxcolors">MAP_COUNTRIES_NAME</a></li>
<li><a name="minmaxcolors" id="minmaxcolors">MAP_STATES_NAME</a></li>
<li><a name="minmaxcolors" id="minmaxcolors">MAP_STATES_ABBRV</a></li>
</ul>
<p><a name="minmaxcolors" id="minmaxcolors">Depending on the base map theme you choose your data model should have the corresponding polygon names. If you choose MAP_STATES_ABBRV then your data model must have state abbreviations for matching the rows with the appropriate polygons.</a></p>
<h4><a name="minmaxcolors" id="minmaxcolors">Legend Customization</a></h4>
<p><a name="minmaxcolors" id="minmaxcolors">By default, the ID of the mapColorTheme is used as the label when that theme is displayed in the legend or in the Theme Selection dialog. However, each mapColorTheme tag has the following attributes that serve as optional labels for the theme:</a></p>
<ul>
<li><a name="minmaxcolors" id="minmaxcolors">shortLabel: Specifies a label for the theme when displayed in the map legend</a></li>
<li><a name="minmaxcolors" id="minmaxcolors">menuLabel: Specifies a label for the theme in the Theme Selection dialog</a></li>
</ul>
<a name="minmaxcolors" id="minmaxcolors">The labels for each bucket in the legend can also be specified through the legendLabels attribute. This list can either be a string array or a semicolon-separated string.</a>
<h4><a name="minmaxcolors" id="minmaxcolors">Selection</a></h4>
<p><a name="minmaxcolors" id="minmaxcolors">The Color Theme supports the ability to select one or more regions on the map using the mapToolbar's rectangle/circle/polygon/point selection tools. When the user defines a selected area on the map, any of the predefined theme regions, colored or uncolored, that fall within the selected area will be highlighted and the selectionListener will be fired.</a></p>
<h4><a name="minmaxcolors" id="minmaxcolors">Relationship with other tags</a></h4>
<p><a name="minmaxcolors" id="minmaxcolors">The &lt;dvt:mapColorTheme&gt; tag is a child of the</a> <a href="dvt_map.html">&lt;dvt:map&gt;</a> tag</p>
<p>The &lt;dvt:mapColorTheme&gt; tag can have the following children:</p>
<ul>
<li>&lt;af:convertNumber&gt;</li>
</ul>
<p>Deprecated children:</p>
<ul>
<li><a href="numberFormat.html">&lt;dvt:numberFormat&gt;</a></li>
</ul>
<h2>Events</h2>
<table class="oac_no_warn" class="oac_no_warn" summary="Layout table... probably." rules="all" border="1" width="100%" cellpadding="3" cellspacing="0">
<thead>
<tr>
<th width="34%" align="left" valign="bottom" id="evType">Type</th>
<th width="29%" align="left" valign="bottom" id="evPhase">Phases</th>
<th width="37%" align="left" valign="bottom" id="evDesc">Description</th>
</tr>
</thead>
<tr>
<td align="left" headers="evType">oracle.adf.view.faces.bi.event.MapSelectionEvent</td>
<td align="left" headers="evPhase" nowrap="nowrap">Apply Request Values</td>
<td align="left" headers="evDesc">MapSelectionEvent is fired when the user finishes selecting a region on the map, or when the user unselects the region. The rectangle tool, circle tool, polygon tool, or point tool can be used to select a region, and right clicking on the map will unselect it</td>
</tr>
<tr>
<td align="left" headers="evType">oracle.adf.view.faces.bi.event.MapClickActionEvent</td>
<td align="left" headers="evPhase" nowrap="nowrap">Apply Request Values</td>
<td align="left" headers="evDesc">MapClickActionEvent is fired when the user left clicks or right clicks on an element of the theme.</td>
</tr>
</table>
<h2>Attributes</h2>
<table class="oac_no_warn" summary="Layout table... probably." rules="all" border="1" width="100%" cellpadding="3" cellspacing="0">
<thead>
<tr>
<th align="left" valign="bottom" id="tblId_1_1">Name</th>
<th align="left" valign="bottom" id="tblId_1_2">Type</th>
<th align="left" valign="bottom" id="tblId_1_3">Supports EL?</th>
<th align="left" valign="bottom" id="tblId_1_4">Description</th>
</tr>
</thead>
<tr>
<td align="left" headers="tblId_1_1">id</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">no</td>
<td align="left" headers="tblId_1_4">The id for this component</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">themeName</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the predefined theme on which this theme layer is based. The theme must come from the same data source as the base map. The theme is defined in mapbuilder. For detail, please refer to the documentation of mapviewer.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">shortLabel</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the label of this theme on the legend. If the attribute is not specified, the id of the theme will be used as the label on the legend.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">menuLabel</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the label of this theme on the ThemeSelectionDialog and SelectMenuItem that are displayed from the toolbar. If the attribute is not specified, the id of the theme will be used.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">minZoom</td>
<td align="left" headers="tblId_1_2">int</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the minimum zoom scale where this theme will still be visible.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">maxZoom</td>
<td align="left" headers="tblId_1_2">int</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the maximum zoom scale where this theme will still be visible.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">legendLabels</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the labels for each bucket on the legend. To specify labels for multiple buckets, developers can bind a string array to this attribute or use a semi-colon separated string. For example, if the value of this attribute is "item1;item2;item3", it means that the label in the legend for the first bucket will be "item1", the second bucket will be "item2" and the third bucket will be "item3"</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">minColor</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the color for the bucket with the smallest value. Valid values are RGB hexadecimal. For example, color="#000000" specifies black color. The default value is #33FF33.<br>
This attribute will be ignored if the user specifies a value for colorList.<br>
The ADF map uses the value of minColor, maxColor and bucketCount to determine the color for each bucket. For example, if minColor = #000000, maxColor = #ffffff and bucketCount = 5, then the color for the four buckets are: #000000, #444444, #888888, #bbbbbb, #ffffff.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">maxColor</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the color for the bucket with the largest value. Valid values are RGB hexadecimal. For example, color="#000000" specifies black color. The default value is #FF3333.<br>
This attribute will be ignored if the user specifies a value for colorList.<br>
The ADF map uses the value of minColor, maxColor and bucketCount to determine the color for each bucket. For example, if minColor = #000000, maxColor = #ffffff and bucketCount = 5, then the color for the four buckets are: #000000, #444444, #888888, #bbbbbb, #ffffff.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">bucketCount</td>
<td align="left" headers="tblId_1_2">int</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the number of buckets for the colorTheme. The ADF map will automatically divide data into a set of buckets based on the value of this attribute. For example, if the data in the theme has a minimum value of 10 and a maximum value of 50, and the value of this attribute is 4, then the range for the four buckets will be: 10-20, 20-30, 30-40 and 40-50.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">colorList</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the color for each bucket. To specify colors for multiple buckets, developers can bind a color array to this attribute or use a semi-colon separated string. Color can be specified using RGB hexadecimal. For example, if the value of this attribute is "#ff0000;#00ff00;#0000ff", then the value of the first bucket is red, the second bucket is green and the third bucket is blue.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">selectionListener</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">no</td>
<td align="left" headers="tblId_1_4">a method reference to a selection listener Refers to a backing bean method that takes MapSelectionEvent as an argument. The MapSelectionEvent contains the information on the selected region. Sample code:
<pre>
public void processSelection(MapSelectionEvent mapSelectionEvent) {
    Iterator iterator = mapSelectionEvent.getIterator();
        
    while (iterator.hasNext())
    {
        DataContent dt = (DataContent)iterator.next();    
        String selectedLocation = dt.getLocationName();
        System.out.println (selectedLocation);
    }                        
}                
        
</pre></td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">locationColumn</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the name of a polygon column in a column the underlying table of the theme. This column is used to join with the location column in the mapModel of the value attribute.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">clickAction</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">no</td>
<td align="left" headers="tblId_1_4">Refers to a backing bean method that performs navigation processing for the map and returns an outcome String. Or a static outcome String can be specified. The JSF NavigationHandler selects the page to display next by matching the outcome String against the navigation rules in the application configuration resource file. The application writes the Navigation rules.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">clickListener</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">no</td>
<td align="left" headers="tblId_1_4">a method reference to a click listener Refers to a backing bean method that takes MapClickActionEvent as an argument. The MapClickActionEvent contains the information on the clicked point. Sample code:
<pre>
 public void processMouseClick(MapClickActionEvent mapClickActionEvent) {
     if (mapClickActionEvent.getDataContent() != null)
     {
         DataContent dt = mapClickActionEvent.getDataContent();
         System.out.println ("Location Name: " + dt.getLocationName());
     }
        
     System.out.println("MouseX " + mapClickActionEvent.getMouseX()); 
     System.out.println("MouseY " + mapClickActionEvent.getMouseY());         
}
        
</pre>
Refers to a backing bean method that takes ClickEvent as argument.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">leftClickBehavior</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the behavior when user left clicks on an element of a theme. Valid values for the theme are:
<ul>
<li>"Action" - An action event will be fired.</li>
<li>"Popup" - A popup will be shown. The content of the popup is defined in the popup facet of the map</li>
<li>"InfoWindow" (Default) - An InfoWindow will be shown. The user can further customize the content of the infoWindow through the infoWindowCallback</li>
<li>"None" - Nothing will be done.</li>
</ul>
</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">rightClickBehavior</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the behavior when user right clicks on an element of a theme. Valid value for the theme are:
<ul>
<li>"Popup" - A popup will be shown. The content of the popup is defined in the rtPopup facet of the map</li>
<li>"None" (Default) - Nothing will be done.</li>
</ul>
</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">useWindow</td>
<td align="left" headers="tblId_1_2">boolean</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies whether processes launched by this command should be launched in a secondary dialog window. 'useWindow' works only in the case of dialogs i.e, if the "action" starts with a "dialog:". Set useWindow to 'false' for the dialog to be opened in the existing window. It is false by default.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">windowWidth</td>
<td align="left" headers="tblId_1_2">int</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the width of the window if useWindow is true. It is -1 by default.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">windowHeight</td>
<td align="left" headers="tblId_1_2">int</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the height of the window if useWindow is true. It is -1 by default.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">infoWindowCallback</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">no</td>
<td align="left" headers="tblId_1_4">Specifies a callback for overriding the default text in the info Window.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">rendered</td>
<td align="left" headers="tblId_1_2">boolean</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies whether the theme is rendered or not</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">opacity</td>
<td align="left" headers="tblId_1_2">int</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the opacity of the color of the theme. Valid values are 0 to 100. 0 means the color is totally transparent while 100 means the color is not transparent. The default value is 40.</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">value</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Specifies the data model for theme - have to be an instance of oracle.adf.view.faces.bi.model.GeoMapDataModel</td>
</tr>
<tr>
<td align="left" headers="tblId_1_1">scaling</td>
<td align="left" headers="tblId_1_2">java.lang.String</td>
<td align="left" headers="tblId_1_3">yes</td>
<td align="left" headers="tblId_1_4">Scaling factor for numbers that are displayed Valid values are:
<ul>
<li>none - (Default) The number will not be scaled</li>
<li>thousand - Scales the number to thousands.</li>
<li>million - Scales the number to millions.</li>
<li>billion - Scale the number to billions.</li>
<li>trillion - Scale the number to trillions.</li>
<li>quadrillion - Scale the number to quadrillions.</li>
</ul>
</td>
</tr>
</table>
</div>
<!-- Start Footer -->
<!-- class="ind" -->
<div class="footer">
<table class="oac_no_warn" summary="Layout table... probably." class="simple oac_no_warn" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" width="86%"><a href="topicid:help_legalnotices_html"><span class="copyrightlogo">Copyright&nbsp;&copy;&nbsp;2015,&nbsp;Oracle.&nbsp;All&nbsp;rights&nbsp;reserved.</span></a></td>
</tr>
<tr>
<td align="left" width="86%">Generated: Jul 15 2015</td>
</tr>
</table>
</div>
<!-- class="footer" -->
</body>
</html>
