<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2019-08-19 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>ADF RichClient API - 
  <af:searchSection></title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20190819" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://www.oracle.com" id="bannerLeft">
                                                <img src="../../images/oracle_logo_red_large.png" alt="Oracle ADF Faces Rich Client" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2019-08-19</span>
                  &nbsp;| <span id="projectVersion">Version: 12-aspen-SNAPSHOT</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
 
 <div class="section">
<h2>Summary<a name="Summary"></a></h2>
 
<p></p>

<div class="summary">

<table border="0" class="bodyTable">

<tr class="a">

<td><b>Tag Name:</b></td>
<td>&lt;af:searchSection&gt;</td>
</tr>

<tr class="b">

<td><b>Java Class:</b></td>
<td><a href="../apidocs/oracle/adf/view/rich/component/rich/data/RichSearchSection.html">oracle.adf.view.rich.component.rich.data.RichSearchSection</a></td>
</tr>

<tr class="a">

<td><b>Component Type:</b></td>
<td>oracle.adf.RichSearchSection</td>
</tr>
</table>
</div>

<p></p>
            The af:searchSection component represents a group of data to be used
            by the inputSearch component. There are primarily two kinds of searchSection
            
<ul>
              
<li>default</li>
              
<li>any other</li>
            </ul>
          
<p></p>
            The <b>default</b> searchSection should provide a master list of data. Search section
            of any other type should provide a list that is subset of default searchSection.
          
          
<p></p>
            Filtering of data is supported only on <b>default</b> searchSection.
          
          
<p></p>
            In the UI, inputSearch component considers two types of view.
            
<ol style="list-style-type: decimal">
              
<li>Initial view</li>
              
<li>Filtering view</li>
            </ol>
          
<p></p>
            In the initial view, data from non-default searchSections and af:suggestionsSection is
            displayed. In the filtering view, only filtered data from default searchSection will be
            displayed. If af:suggestionsSection or a non-default searchSection is not provided, only
            in such a case is data from default searchSection is displayed in the initial view.
          
 
<p></p>
 </div>
 
<div class="section">
<h2>Code Example(s)<a name="Code_Examples"></a></h2>
 
<p>
   <html>
    
<div class="source">
      </p>
<div>
<pre>
&lt;af:inputSearch label=&quot;Label&quot; valueAttribute=&quot;id&quot;&gt;
              &lt;af:searchSection type=&quot;default&quot; dataUrl=&quot;/rest/employees&quot; /&gt;
            &lt;/af:inputSearch&gt;</pre></div>
    </div>
   </html>
 
 </div>
 
<div class="section">
<h2>Events<a name="Events"></a></h2>
 
<p>
</p>
<table border="0" class="bodyTable">

<tr class="a">

<th>Type</th>

<th>Phases</th>

<th>Description</th>
</tr>

<tr class="b">

<td>org.apache.myfaces.trinidad.event.AttributeChangeEvent</td>
<td nowrap="nowrap">Invoke Application,<br />Apply Request Values</td>
<td>Event delivered to describe an attribute change.  Attribute change events are not delivered for any programmatic change to a property.  They are only delivered when a renderer changes a property without the application's specific request.  An example of an attribute change event might include the width of a column that supported client-side resizing.</td></tr>
</table>
 
 </div>
 
<div class="section">
<h2>Supported Facets<a name="Supported_Facets"></a></h2>
 
<p>
</p>
<table border="0" class="bodyTable">

<tr class="a">

<th>Name</th>

<th>Description</th>
</tr>

<tr class="b">

<td>header</td>
<td>
<b>Allowed Child Components:</b> <a href="../tagdoc/af_sanitized.html">af:sanitized</a><br />
<br />HTML template to be used as per section header.
        Mustache is the templating system supported by the component.
        In single selection mode, this facet is applicable only for non-default searchSection.
        In multi selection mode, the facet on default searchSection will serve the template
        for the selections list.</td>
</tr>
</table>
 
 </div>
 
<div class="section">
<h2>Attributes<a name="Attributes"></a></h2>

<table border="0" class="bodyTable">

<tr class="a">

<th>Name</th>

<th>Type</th>

<th>Supports EL?</th>

<th>Description</th>
</tr>

<tr class="b">

<td>attributeChangeListener</td>
<td>javax.el.MethodExpression</td>
<td>Only EL</td>
<td>
a method reference to an attribute change listener.  Attribute change events are not delivered for any programmatic change to a property.  They are only delivered when a renderer changes a property without the application's specific request.  An example of an attribute change events might include the width of a column that supported client-side resizing.</td>
</tr>

<tr class="a">

<td>binding</td>
<td>oracle.adf.view.rich.component.<br />rich.data.RichSearchSection</td>
<td>Only EL</td>
<td>
an EL reference that will store the component instance on a
bean.  This can be used to give programmatic access to a component
from a backing bean, or to move creation of the component to a backing bean.</td>
</tr>

<tr class="b">

<td>dataUrl</td>
<td>String</td>
<td>Yes</td>
<td>
REST service endpoint URI that provides a list of suggestions for the search section.
        This attribute supports these various types of URIs:
        
<ul>
          
<li>absolute - an absolute path, like &quot;http://samplerest.com/rest/Emp&quot;</li>
          
<li>context relative - a path relatively based on the web application's context root,
              like &quot;/rest/Emp&quot;</li>
          
<li>server relative - a path relatively based on the web server by application name, like
              &quot;//RESTWebService-context-root/rest/Emp&quot;</li>
        </ul>
        
<p></p>
          The REST response should strictly be in JSON format.
          The component will set the &quot;Accept&quot; header to &quot;application/json&quot; for the REST calls made.
        
        
<p></p>
          The JSON document should have a root property labeled &quot;items&quot; and its value should be an array.
          If &quot;items&quot; property isn't available, the first root property whose value is an array
          is chosen as the list of suggestions.
        
        
<p></p>
          <b>Note:</b> If the REST endpoint is on a different origin, CORS needs to be
          setup on the endpoint.
        </td>
</tr>

<tr class="a">

<td>filter</td>
<td>String</td>
<td>Yes</td>
<td>
This attribute holds the name of the JS callback that would perform Array.filter
        operation on the default searchSection's collection returned from the REST response.
        The suggestions filtered by the JS callback will be shown as a separate section
        in the UI. Such a client filtered suggestion list is equivalent to a non <b>default</b>
        url provided af:searchSection.

        This attribute can't be set on the searchSection of type <b>default</b>

        The component instance will be set as context during JS callback invocation.
        The row object passed to the callback will have the structure below
        
<ul>
          
<li><b>data</b>: The raw row data</li>
          
<li><b>index</b>: The index of the row in the collection fetched from the REST call</li>
          
<li><b>key</b>: The key value for the row</li>
        </ul>
        The index of the row object in the collection that is being filtered is also passed as an
        parameter to the callback.

        e.g. Suppose the 24th row data object is as below and the valueAttribute is 'EmpNo'
        
<div class="source">
<pre>{
          'EmpNo': 1234,
          'Ename': 'Somename'
        }</pre></div>

        
<p></p>the object passed to this method will be of format
        
<div class="source">
<pre>{
          'data': {
            'EmpNo': 1234,
            'Ename': 'Somename'
          },
          'index': 24,
          'key': 1234
        }</pre></div>

        
<p></p>Sample JS method:
        
<div class="source">
<pre>function smartListFiltering(rowObj, rowIndex)
        {
          return rowObj.data['isReportee'] == true;
        }</pre></div></td>
</tr>

<tr class="b">

<td>filterParameters</td>
<td>String</td>
<td>Yes</td>
<td>
Attribute to set the query parameters on REST endpoint for
        
<ol style="list-style-type: decimal">
          
<li>filtering of the suggestions on the REST service for a given set of search terms</li>
          
<li>fetching the full row (suggestion) objects from the REST service for a given set of key
            values</li>
        </ol>

        
<p></p>The REST call for fetching the desired resultset is attempted only if the master collection size
          is beyond the configured fetch limit set on the REST service and the REST response has &quot;hasMore&quot;
          property set. Otherwise the relevant filtering to obtain the desired resultset is completely done
          on the client and this attribute is not invoked.

        
<p></p><b>Note 1: </b>Dependency based filtering should also happen on the server, and it will not be
        done on the client whenever server filtering is being attempted.

        
<p></p><b>Note 2: </b>A converter needs to be attached to the inputSearch component to derive the
        display value from the displayAttributes when the master collection size is beyond the configured
        fetch limit.

        
<p></p><b>Note 3: </b>Since searchSection of type <b>default</b> provides the master collection and
        since only this collection is filterable, this attribute is only applicable for default searchSection.

        
<p></p>This attribute holds the name of the JS callback. This JS callback is invoked when a REST call is being made
        
<ol style="list-style-type: decimal">
          
<li>in response to user action of filtering.</li>
          
<li>to fetch the full row objects of the selected values</li>
        </ol>

        
<p></p>The searchSection client component instance will be set as context during JS callback invocation.
          A request and context objects will be passed as parameters to the function.
        The callback should return the configured passed in request object.

        
<p></p>The request object will have the structure below:
        
<ul>
          
<li><b>queryString</b>: The string set on this property will be appended as a query
                            parameter to the REST url while making the HTTP request call.
                            If the queryString has a query parameter that is already present
                            in the base url, such a query parameter on the base url will be
                            replaced with the new value in queryString.
                            
<p></p><b>Recommendation</b>: Relevant portions of queryString should be encoded correctly by
                            passing it to encodeURIComponent browser API.</li>
          
<li><b>method</b>: The request method, e.g., GET, POST. Default is GET</li>
          
<li><b>body</b>: The request body for POST requests</li>
        </ul>

        
<p></p>The context object will have the structure below:        
<ul>
          
<li><b>criteria</b>: AdfRichInputSearch.CRITERIA_STARTS_WITH,
                               AdfRichInputSearch.CRITERIA_CONTAINS,
                               AdfRichInputSearch.CRITERIA_ATTRIBUTE_STARTS_WITH or
                               AdfRichInputSearch.CRITERIA_VALUE_EQUALS.
                               Indicates the search that needs to be performed</li>
          
<li><b>searchTerms</b>: Array of search terms for AdfRichInputSearch.CRITERIA_STARTS_WITH,
                                  AdfRichInputSearch.CRITERIA_ATTRIBUTE_STARTS_WITH and
                                  AdfRichInputSearch.CRITERIA_CONTAINS. Or array of selected keys or values
                                  for which full row object needs to be fetched in case of
                                  AdfRichInputSearch.CRITERIA_VALUE_EQUALS</li>
          
<li><b>filterAttributes</b>: Array of attributes across which the search needs to be filtered.
                                       For the case of AdfRichInputSearch.CRITERIA_VALUE_EQUALS, this will
                                       have a single value, the <b>valueAttribute</b> of the inputSearch
                                       component</li>
        </ul>
        <b>Sample JS method:</b>
        
<div class="source">
<pre>function queryParamProvider(request, context)
        {
  if (context.criteria == AdfRichInputSearch.CRITERIA_VALUE_EQUALS)
    return selectedQueryParamProvider(request, context);

          request.queryString = &quot;q=&quot;;
          for (each item in context.filterAttributes)
            for (each item in context.searchTerms)
              // append the relevant string to request['queryString'];

          return request;
}

function selectedQueryParamProvider(request, context)
{
  var values = context.searchTerms;
  var valueAttribute = context.filterAttributes[0];
  var q = &quot;q=&quot;;
  for (var i = 0; i &amp;lt; values.length; i++)
  {
    if (i == 0)
      q += valueAttribute + &quot;=&quot; + values[i];
    else
      q += &quot; OR &quot; + valueAttribute + &quot;=&quot; + values[i];

  request.queryString = q;
  return request;
        }</pre></div></td>
</tr>

<tr class="a">

<td>id</td>
<td>String</td>
<td>No</td>
<td>
<html>the identifier for the component.  Every component may be named by a component identifier that must conform to the following rules:

<ul>

<li>They must start with a letter (as defined by the Character.isLetter() method) or underscore ( _ ).</li>

<li>Subsequent characters must be letters (as defined by the Character.isLetter() method), digits as defined by the Character.isDigit() method, 
dashes ( - ), or underscores ( _ ).  To minimize the size of responses generated by JavaServer Faces, it is recommended that component identifiers 
be as short as possible. If a component has been given an identifier, it must be unique in the namespace of the closest ancestor to that component 
that is a NamingContainer (if any).</li>
</ul></html></td>
</tr>

<tr class="b">

<td>partialTriggers</td>
<td>String[]</td>
<td>Yes</td>
<td>
the IDs of the components that should trigger a partial update.
        This component will listen on the trigger components. If one of the
        trigger components receives an event that will cause it to update
        in some way, this component will request to be updated too.
        Identifiers are relative to the source component (this component), 
        and must account for NamingContainers.  If your component is already inside of a naming
        container, you can use a single colon to start the search from the root of the page,
        or multiple colons to move up through the NamingContainers - &quot;::&quot; will
        pop out of the component's naming container (or itself if the component is
        a naming container) and begin the search from there, &quot;:::&quot; will pop out of
        two naming containers (including itself if the component is a naming container)
        and begin the search from there, etc.</td>
</tr>

<tr class="a">

<td>rendered</td>
<td>boolean</td>
<td>Yes</td>
<td>

<b>Default Value:</b> true<br />
<br />whether the component is rendered. When set to false, no output will be
		delivered for this component (the component will not in any way be rendered,
		and cannot be made visible on the client). If you want to change a component's
		rendered attribute from false to true
                using PPR, set the partialTrigger attribute of its parent component so the
                parent refreshes and in turn will render this component.</td>
</tr>

<tr class="b">

<td>type</td>
<td>String</td>
<td>Yes</td>
<td>

<b>Default Value:</b> default<br />
<br />The type of the search section.
        Broadly, there are two types of searchSection that are recognized by af:inputSearch component.
        
<ol style="list-style-type: decimal">
          
<li>&quot;default&quot;: The master suggestions list that the af:inputSearch component will work with.
            Each inputSearch component must have a default searchSection.
            The suggestions from default searchSection is displayed only during filtering if af:suggestionsSection
            or other types of searchSection are also configured.</li>
          
<li>Other types: A searchSection other than <b>default</b> list is treated as a special suggestion group.
            Suggestion groups can either have a <b>dataUrl</b> of its own, or can be a client sub-list of default searchSection's data using the <b>filter</b> attribute.
            In either case, the data of non default searchSection should be a subset of the default searchSection.</li>
        </ol></td>
</tr>
</table>
 </div>
 

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2019
                      Oracle Corporation.
            All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
